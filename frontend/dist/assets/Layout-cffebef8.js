import{f as l,A as p,I as Z,r as f,u as K,J as ee,a as te,v as z,c,o as m,j as M,w as s,e as i,K as v,d as ne,G as re,H as ae,t as _,h,k,L as le,M as oe,N as se,z as ue,O as ce}from"./index-fedfb087.js";import{_ as ie}from"./_plugin-vue_export-helper-c27b6911.js";var de={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M747.4 535.7c-.4-68.2 30.5-119.6 92.9-157.5-34.9-50-87.7-77.5-157.3-82.8-65.9-5.2-138 38.4-164.4 38.4-27.9 0-91.7-36.6-141.9-36.6C273.1 298.8 163 379.8 163 544.6c0 48.7 8.9 99 26.7 150.8 23.8 68.2 109.6 235.3 199.1 232.6 46.8-1.1 79.9-33.2 140.8-33.2 59.1 0 89.7 33.2 141.9 33.2 90.3-1.3 167.9-153.2 190.5-221.6-121.1-57.1-114.6-167.2-114.6-170.7zm-10.6 267c-14.3 19.9-28.7 35.6-41.9 45.7-10.5 8-18.6 11.4-24 11.6-9-.1-17.7-2.3-34.7-8.8-1.2-.5-2.5-1-4.2-1.6l-4.4-1.7c-17.4-6.7-27.8-10.3-41.1-13.8-18.6-4.8-37.1-7.4-56.9-7.4-20.2 0-39.2 2.5-58.1 7.2-13.9 3.5-25.6 7.4-42.7 13.8-.7.3-8.1 3.1-10.2 3.9-3.5 1.3-6.2 2.3-8.7 3.2-10.4 3.6-17 5.1-22.9 5.2-.7 0-1.3-.1-1.8-.2-1.1-.2-2.5-.6-4.1-1.3-4.5-1.8-9.9-5.1-16-9.8-14-10.9-29.4-28-45.1-49.9-27.5-38.6-53.5-89.8-66-125.7-15.4-44.8-23-87.7-23-128.6 0-60.2 17.8-106 48.4-137.1 26.3-26.6 61.7-41.5 97.8-42.3 5.9.1 14.5 1.5 25.4 4.5 8.6 2.3 18 5.4 30.7 9.9 3.8 1.4 16.9 6.1 18.5 6.7 7.7 2.8 13.5 4.8 19.2 6.6 18.2 5.8 32.3 9 47.6 9 15.5 0 28.8-3.3 47.7-9.8 7.1-2.4 32.9-12 37.5-13.6 25.6-9.1 44.5-14 60.8-15.2 4.8-.4 9.1-.4 13.2-.1 22.7 1.8 42.1 6.3 58.6 13.8-37.6 43.4-57 96.5-56.9 158.4-.3 14.7.9 31.7 5.1 51.8 6.4 30.5 18.6 60.7 37.9 89 14.7 21.5 32.9 40.9 54.7 57.8-11.5 23.7-25.6 48.2-40.4 68.8zm-94.5-572c50.7-60.2 46.1-115 44.6-134.7-44.8 2.6-96.6 30.5-126.1 64.8-32.5 36.8-51.6 82.3-47.5 133.6 48.4 3.7 92.6-21.2 129-63.7z"}}]},name:"apple",theme:"outlined"};const pe=de;function A(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),r.forEach(function(a){fe(n,a,t[a])})}return n}function fe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var g=function(e,t){var r=A({},e,t.attrs);return l(p,A({},r,{icon:pe}),null)};g.displayName="AppleOutlined";g.inheritAttrs=!1;const me=g;var ve={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 140H96c-17.7 0-32 14.3-32 32v496c0 17.7 14.3 32 32 32h380v112H304c-8.8 0-16 7.2-16 16v48c0 4.4 3.6 8 8 8h432c4.4 0 8-3.6 8-8v-48c0-8.8-7.2-16-16-16H548V700h380c17.7 0 32-14.3 32-32V172c0-17.7-14.3-32-32-32zm-40 488H136V212h752v416z"}}]},name:"desktop",theme:"outlined"};const _e=ve;function L(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),r.forEach(function(a){he(n,a,t[a])})}return n}function he(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var b=function(e,t){var r=L({},e,t.attrs);return l(p,L({},r,{icon:_e}),null)};b.displayName="DesktopOutlined";b.inheritAttrs=!1;const ge=b;var be={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M508 704c79.5 0 144-64.5 144-144s-64.5-144-144-144-144 64.5-144 144 64.5 144 144 144zm0-224c44.2 0 80 35.8 80 80s-35.8 80-80 80-80-35.8-80-80 35.8-80 80-80z"}},{tag:"path",attrs:{d:"M832 256h-28.1l-35.7-120.9c-4-13.7-16.5-23.1-30.7-23.1h-451c-14.3 0-26.8 9.4-30.7 23.1L220.1 256H192c-17.7 0-32 14.3-32 32v28c0 4.4 3.6 8 8 8h45.8l47.7 558.7a32 32 0 0031.9 29.3h429.2a32 32 0 0031.9-29.3L802.2 324H856c4.4 0 8-3.6 8-8v-28c0-17.7-14.3-32-32-32zm-518.6-76h397.2l22.4 76H291l22.4-76zm376.2 664H326.4L282 324h451.9l-44.3 520z"}}]},name:"rest",theme:"outlined"};const Oe=be;function H(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),r.forEach(function(a){ye(n,a,t[a])})}return n}function ye(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var O=function(e,t){var r=H({},e,t.attrs);return l(p,H({},r,{icon:Oe}),null)};O.displayName="RestOutlined";O.inheritAttrs=!1;const we=O;var Se={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M848 359.3H627.7L825.8 109c4.1-5.3.4-13-6.3-13H436c-2.8 0-5.5 1.5-6.9 4L170 547.5c-3.1 5.3.7 12 6.9 12h174.4l-89.4 357.6c-1.9 7.8 7.5 13.3 13.3 7.7L853.5 373c5.2-4.9 1.7-13.7-5.5-13.7zM378.2 732.5l60.3-241H281.1l189.6-327.4h224.6L487 427.4h211L378.2 732.5z"}}]},name:"thunderbolt",theme:"outlined"};const Pe=Se;function D(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),r.forEach(function(a){je(n,a,t[a])})}return n}function je(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var y=function(e,t){var r=D({},e,t.attrs);return l(p,D({},r,{icon:Pe}),null)};y.displayName="ThunderboltOutlined";y.inheritAttrs=!1;const $e=y;var xe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"};const ze=xe;function T(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),r.forEach(function(a){Me(n,a,t[a])})}return n}function Me(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var w=function(e,t){var r=T({},e,t.attrs);return l(p,T({},r,{icon:ze}),null)};w.displayName="UserOutlined";w.inheritAttrs=!1;const ke=w,Ae="/assets/logo-4801c316.png",Le={class:"header-left"},He={class:"header-right"},De={class:"user-dropdown"},Te={class:"username"},Be=Z({__name:"Layout",setup(n){const e=f(!1),t=f(["1"]),r=f(null),a=K(),S=ee(),P=te(),B=[{key:"1",label:"首页",icon:ge},{key:"2",label:"睡眠记录",icon:we},{key:"3",label:"运动记录",icon:$e},{key:"4",label:"饮食记录",icon:me},{key:"5",label:"个人中心",icon:ke}],j=z(()=>e.value?80:260),C={"/dashboard":"1","/sleep":"2","/exercise":"3","/diet":"4","/profile":"5"},N=z(()=>({"/dashboard":"首页","/diet":"饮食记录","/exercise":"运动记录","/sleep":"睡眠记录","/profile":"个人中心"})[S.path]||"健康追踪");t.value=[C[S.path]||"1"];const R=d=>{const o={1:"/dashboard",2:"/sleep",3:"/exercise",4:"/diet",5:"/profile"};a.push(o[d.key]),t.value=[d.key]},U=async d=>{if(d==="profile")a.push("/profile");else if(d==="logout")try{await ue.confirm("确定要退出登录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),P.logout(),a.push("/login")}catch{}};return(d,o)=>{const E=c("a-menu-item"),V=c("a-menu"),I=c("a-layout-sider"),F=c("el-avatar"),G=c("el-icon"),$=c("el-dropdown-item"),J=c("el-dropdown-menu"),W=c("el-dropdown"),q=c("a-layout-header"),Q=c("a-layout-content"),X=c("a-layout-footer"),x=c("a-layout");return m(),M(x,{style:{"min-height":"100vh"}},{default:s(()=>[l(I,{collapsed:e.value,"onUpdate:collapsed":o[2]||(o[2]=u=>e.value=u),collapsible:"",width:j.value,"collapsed-width":80},{default:s(()=>[i("div",{class:v(["title-bar",{collapsed:e.value}])},[o[4]||(o[4]=i("img",{class:"logo",src:Ae,alt:"logo"},null,-1)),i("div",{class:v(["sidebar-header",{hidden:e.value}])},o[3]||(o[3]=[i("h2",null,"HealthTrace",-1),i("p",null,"健迹：让健康有迹可循",-1)]),2)],2),l(V,{selectedKeys:t.value,"onUpdate:selectedKeys":o[1]||(o[1]=u=>t.value=u),theme:"dark",mode:"inline",onClick:R},{default:s(()=>[(m(),ne(ae,null,re(B,u=>l(E,{key:u.key,onMouseenter:Y=>r.value=u.key,onMouseleave:o[0]||(o[0]=Y=>r.value=null),class:v({hovered:r.value===u.key&&!e.value})},{default:s(()=>[(m(),M(ce(u.icon))),i("span",null,_(u.label),1)]),_:2},1032,["onMouseenter","class"])),64))]),_:1},8,["selectedKeys"])]),_:1},8,["collapsed","width"]),l(x,{style:se({marginLeft:e.value?"80px":j.value+"px"})},{default:s(()=>[l(q,{class:"header"},{default:s(()=>[i("div",Le,[i("h3",null,_(N.value),1)]),i("div",He,[l(W,{onCommand:U},{dropdown:s(()=>[l(J,null,{default:s(()=>[l($,{command:"profile"},{default:s(()=>o[5]||(o[5]=[h("个人资料",-1)])),_:1,__:[5]}),l($,{command:"logout",divided:""},{default:s(()=>o[6]||(o[6]=[h("退出登录",-1)])),_:1,__:[6]})]),_:1})]),default:s(()=>{var u;return[i("span",De,[l(F,{size:32,icon:"User"}),i("span",Te,_((u=k(P).user)==null?void 0:u.username),1),l(G,null,{default:s(()=>[l(k(le))]),_:1})])]}),_:1})])]),_:1}),l(Q,{class:"main-content"},{default:s(()=>[oe(d.$slots,"default",{},void 0,!0)]),_:3}),l(X,{style:{"text-align":"center"}},{default:s(()=>o[7]||(o[7]=[h(" HealthTrace ©2025 健迹 — 让健康有迹可循 ",-1)])),_:1,__:[7]})]),_:3},8,["style"])]),_:3})}}});const Re=ie(Be,[["__scopeId","data-v-3ba7e438"]]);export{Re as L};
