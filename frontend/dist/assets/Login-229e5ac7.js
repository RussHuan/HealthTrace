import{u as k,a as x,r as g,b as h,c as t,o as L,d as R,e as r,f as o,w as l,g as z,h as m,E as p}from"./index-fedfb087.js";import{_ as B}from"./_plugin-vue_export-helper-c27b6911.js";const C={class:"login-container"},E={class:"login-card"},F={class:"login-footer"},N={__name:"Login",setup(S){const f=k(),v=x(),n=g(),i=g(!1),s=h({username:"",password:""}),b={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能少于6位",trigger:"blur"}]},_=async()=>{if(n.value)try{await n.value.validate(),i.value=!0;const a=await v.login(s);a.success?(p.success("登录成功"),f.push("/dashboard")):p.error(a.message)}catch{p.error("登录失败，请检查输入信息")}finally{i.value=!1}};return(a,e)=>{const c=t("el-input"),u=t("el-form-item"),w=t("el-button"),y=t("el-form"),V=t("router-link");return L(),R("div",C,[r("div",E,[e[5]||(e[5]=r("div",{class:"login-header"},[r("h1",null,"HealthTrace"),r("p",null,"健康追踪系统")],-1)),o(y,{ref_key:"loginFormRef",ref:n,model:s,rules:b,class:"login-form",onSubmit:z(_,["prevent"])},{default:l(()=>[o(u,{prop:"username"},{default:l(()=>[o(c,{modelValue:s.username,"onUpdate:modelValue":e[0]||(e[0]=d=>s.username=d),placeholder:"用户名",size:"large","prefix-icon":"User"},null,8,["modelValue"])]),_:1}),o(u,{prop:"password"},{default:l(()=>[o(c,{modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=d=>s.password=d),type:"password",placeholder:"密码",size:"large","prefix-icon":"Lock","show-password":""},null,8,["modelValue"])]),_:1}),o(u,null,{default:l(()=>[o(w,{type:"primary",size:"large",class:"login-button",loading:i.value,onClick:_},{default:l(()=>e[2]||(e[2]=[m(" 登录 ",-1)])),_:1,__:[2]},8,["loading"])]),_:1})]),_:1},8,["model"]),r("div",F,[r("p",null,[e[4]||(e[4]=m(" 还没有账号？ ",-1)),o(V,{to:"/register",class:"register-link"},{default:l(()=>e[3]||(e[3]=[m("立即注册",-1)])),_:1,__:[3]})])])])])}}},M=B(N,[["__scopeId","data-v-1bdab1ba"]]);export{M as default};
