const s="http://localhost:5000",c=async r=>{try{const t=await fetch(`${s}/sleep/records`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),e=await t.json();if(!t.ok)throw new Error(e.message||"添加睡眠记录失败");return e}catch(t){throw t}},d=async(r,t={})=>{try{const e=new URLSearchParams;t.start_date&&e.append("start_date",t.start_date),t.end_date&&e.append("end_date",t.end_date),t.limit&&e.append("limit",t.limit);const o=`${s}/sleep/records/${r}${e.toString()?"?"+e.toString():""}`,a=await fetch(o),n=await a.json();if(!a.ok)throw new Error(n.message||"获取睡眠记录失败");return n}catch(e){throw e}},i=async r=>{try{const t=await fetch(`${s}/sleep/records/${r}`,{method:"DELETE"}),e=await t.json();if(!t.ok)throw new Error(e.message||"删除睡眠记录失败");return e}catch(t){throw t}},h=async(r,t=7)=>{try{const e=await fetch(`${s}/sleep/stats/${r}?days=${t}`),o=await e.json();if(!e.ok)throw new Error(o.message||"获取睡眠统计失败");return o}catch(e){throw e}};export{d as a,c as b,i as d,h as g};
